{% extends 'index.html' %}

{% block body %}
<div class="container" id="myrow">
    <ul class="nav nav-tabs">
        <li class="nav-item"><a class="nav-link active" id="uploadimg" href="#upload-image">Upload Image</a></li>
        <li class="nav-item"><a class="nav-link" href="#gallery">Uploaded Images</a></li>
    </ul>

    <div class="tab-content">
        <div class="tab-pane active" id="upload-image" role="tabpanel" aria-labelledby="uploading">
            <div class="row" style= "text-align: center">
                <div class="col" >
                    <form action="#" method="POST" enctype="multipart/form-data">
                        <!-- file input -->
                        <p><input type="file" name="image_name" class="btn" style="background-color: #23a2b3; color:azure; margin-top: 30px; " required></p>
                        <!-- Submit button -->
                        <p><input type="submit" value="Submit" class="btn btn-block btn-dark" style="color:azure"></p>
                        <p  style= "text-align: center"> 
                            <strong>Intructions:</strong> <br>
                            Only upload the file with extention <strong>".png", "jpg", ".jpeg"</strong>
                        </p>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% if fileupload %}

<div class="container" id='myrow_result'>
    <div class="row">
        <div class="col col-8">
            <table class="table table-striped table-dark">
                <tr>
                    <th>Label</th>
                    <th>Predict Score</th>
                </tr>
                {% for class, score in data %}
                    <tr>
                        <td>{{ class }}</td>
                        <td>{{ score }}</td>
                    </tr>
                {% endfor %}
            </table>
        </div>
        <div class="col col-4" style="text-align: center">
            <img src="/static/upload/{{ image_filename }}" alt="uploaded image" width="300" height="{{ height }}">
            <span>{{ image_filename }}</span>
        </div>
    </div>
</div>
{% endif %}

{% if extension %}
    <script>
        alert("Error: \n Invalid Extension of the Image! make sure the image extension is of following: .png, .jpg, .jpeg");
    </script>
{% endif %}

{% endblock  %}